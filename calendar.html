<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GIKI Calendar - GIKI Chronicles</title>
  <link rel="icon" type="image/x-icon" href="/favicons/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="calendar_styles.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>

<body class="text-gray-800 calendar-page">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-4 py-4 flex items-center">
      <div class="flex items-center space-x-4">
        <button id="sidebar-toggle" class="md:hidden text-gray-600 hover:text-blue-600 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
        <div class="flex flex-col items-center">
          <a href="index.html" class="flex flex-col items-center">
            <img src="logo.png" alt="GIKI Chronicles Logo" class="h-16 w-auto">
            <span class="text-lg font-bold text-gray-800 mt-1">GIKI Chronicles</span>
          </a>
          <a href="index.html" class="text-sm text-gray-500 hover:text-blue-600 transition duration-300 mt-1">
          </a>
        </div>
      </div>
      <div class="hidden md:flex items-center space-x-6 ml-auto">
        <a href="#" id="nav-cal" class="text-gray-600 hover:text-blue-600 transition duration-300">Calendar</a>
        <a href="#" id="nav-events" class="text-gray-600 hover:text-blue-600 transition duration-300">Events</a>
        <a href="#" id="nav-submit" class="text-gray-600 hover:text-blue-600 transition duration-300">Submit Event</a>
        <div id="auth-buttons">
          <a href="login.html"
            class="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition duration-300">Sign In</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Sidebar -->
  <div id="sidebar"
    class="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out flex flex-col">
    <div class="flex items-center justify-between p-6 border-b">
      <h2 class="text-xl font-bold text-gray-800">Menu</h2>
      <button id="sidebar-close" class="text-gray-600 hover:text-blue-600 focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <nav class="p-6 flex-1 overflow-y-auto">
      <div class="space-y-4">
        <!-- Main Navigation -->
        <div>
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">Main</h3>
          <div class="space-y-2">
            <a href="index.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                </path>
              </svg>
              Home
            </a>
            <a href="browse.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
                </path>
              </svg>
              All Posts
            </a>
            <a href="about.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              About
            </a>
            <a href="contact.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                </path>
              </svg>
              Contact
            </a>
            <a href="gallery.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                </path>
              </svg>
              Gallery
            </a>
          </div>
        </div>

        <!-- Calendar Navigation -->
        <div>
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">Calendar</h3>
          <div class="space-y-2">
            <a href="#" id="sidebar-nav-cal"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              </svg>
              Calendar View
            </a>
            <a href="#" id="sidebar-nav-events"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
                </path>
              </svg>
              View Events
            </a>
            <a href="#" id="sidebar-nav-submit"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
              </svg>
              Submit Event
            </a>
          </div>
        </div>

        <!-- Resources -->
        <div>
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">Resources</h3>
          <div class="space-y-2">
            <a href="guide.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253">
                </path>
              </svg>
              Freshman Guide
            </a>
            <a href="calendar.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
              Calendar
            </a>
          </div>
        </div>

        <!-- Theme Settings -->
        <div>
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">Theme</h3>
          <div class="space-y-2">
            <div class="px-3 py-2">
              <label for="theme-select" class="block text-sm font-medium text-gray-700 mb-2">Choose Theme</label>
              <select id="theme-select"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700">
                <option value="basic-light">Basic Light</option>
                <option value="basic-dark">Basic Dark</option>
                <option value="giki">GIKI Palette</option>
              </select>
            </div>
          </div>
        </div>

        <!-- User Section -->
        <div id="sidebar-guest-nav">
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">Account</h3>
          <div class="space-y-2">
            <a href="login.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                </path>
              </svg>
              Login
            </a>
          </div>
        </div>

        <div id="sidebar-user-nav" class="hidden">
          <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3">My Account</h3>
          <div class="space-y-2">
            <a href="profile.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
              My Profile
            </a>
            <a href="write.html"
              class="flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">
                </path>
              </svg>
              Write Post
            </a>
            <button id="sidebar-admin-access-btn"
              class="hidden md:flex w-full items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z">
                </path>
              </svg>
              🔐 Admin Portal
            </button>
            <button id="sidebar-logout-button"
              class="w-full flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <!-- Sidebar Overlay -->
  <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <main class="min-h-screen bg-gray-50">
    <div class="container mx-auto px-4 py-8 md:py-12">
      <div id="calendar-view">
        <div class="text-center mb-8 md:mb-12">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">GIKI Calendar</h1>
          <p class="text-base md:text-lg text-gray-600 max-w-2xl mx-auto px-4">
            Discover what's happening at the university. Your hub for all club and society events.
          </p>
        </div>

        <div class="calendar-container">
          <div class="calendar-header">
            <button id="left-arrow" class="nav-arrow left-arrow">&lt;</button>
            <div id="month-year" class="month-year"></div>
            <button id="right-arrow" class="nav-arrow right-arrow">&gt;</button>
          </div>
          <div id="calendar-grid" class="calendar-grid">
            <div class="day-of-week">Su</div>
            <div class="day-of-week">Mo</div>
            <div class="day-of-week">Tu</div>
            <div class="day-of-week">We</div>
            <div class="day-of-week">Th</div>
            <div class="day-of-week">Fr</div>
            <div class="day-of-week">Sa</div>
          </div>
        </div>
      </div>

      <div id="submit-event-view" class="submit-event-section hidden">
        <div class="text-center mb-12">
          <h1 class="text-4xl font-bold text-gray-800 mb-4">Submit a New Event</h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Fill out the form below to add your club or society event to the calendar.
          </p>
        </div>
        <div class="submit-event-form">
          <form id="event-form">
            <div class="form-group">
              <label for="eventName">Event Name</label>
              <input type="text" id="eventName" name="eventName" required>
            </div>
            <div class="form-group">
              <label for="eventDate">Event Date</label>
              <input type="date" id="eventDate" name="eventDate" required>
            </div>
            <div class="form-group">
              <label for="eventTime">Event Time (Optional)</label>
              <input type="time" id="eventTime" name="eventTime">
            </div>
            <div class="form-group">
              <label for="eventType">Event Type</label>
              <select id="eventType" name="eventType" required>
                <option value="">Select a type...</option>
                <option value="Tech">Tech</option>
                <option value="Cultural">Cultural</option>
                <option value="Academic">Academic</option>
                <option value="Sports">Sports</option>
              </select>
            </div>
            <div class="form-group">
              <label for="eventLocation">Location</label>
              <input type="text" id="eventLocation" name="eventLocation" required>
            </div>
            <div class="form-group">
              <label for="eventDescription">Description</label>
              <textarea id="eventDescription" name="eventDescription" required></textarea>
            </div>
            <button type="submit" class="submit-form-btn">Submit Event</button>
          </form>
        </div>
      </div>

      <div id="events-view" class="events-section hidden">
        <div class="text-center mb-12">
          <h1 class="text-4xl font-bold text-gray-800 mb-4">All GIKI Events</h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            A list of all upcoming and past events at the university.
          </p>
        </div>

        <h2 class="event-category-title">Upcoming Events</h2>
        <div id="upcoming-events" class="events-container">
        </div>

        <h2 class="event-category-title">Past Events</h2>
        <div id="past-events" class="events-container">
        </div>
      </div>

      <div id="map-view" class="map-section hidden">
        <div class="text-center mb-12">
          <h1 class="text-4xl font-bold text-gray-800 mb-4">Campus Map</h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            A detailed map of the GIKI campus.
          </p>
        </div>
        <img src="map.png" alt="Campus Map of GIKI" class="map-image">
      </div>
    </div>
  </main>

  <div id="event-popup" class="event-popup hidden">
    <div class="popup-content">
      <button class="close-btn">&times;</button>
      <div id="event-list-container">
      </div>
    </div>
  </div>

  <div id="add-to-calendar-modal" class="modal hidden">
    <div class="modal-content">
      <span class="modal-close-add">&times;</span>
      <h3 class="modal-title">Add to your Calendar</h3>
      <div class="calendar-options-container">
        <a href="#" target="_blank" id="google-calendar-link" class="calendar-option-btn">
          <svg class="calendar-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
            <path fill="#4285F4" d="M40 8H28V4H40V8Z" />
            <path fill="#FBBC04" d="M20 8H8V4H20V8Z" />
            <path fill="#EA4335" d="M40 8H8V40H40V8Z" />
            <path fill="#1A73E8" d="M30 20H18V16H30V20Z" />
            <path fill="#34A853" d="M30 28H18V24H30V28Z" />
            <path fill="#FCCC49" d="M22 36H18V32H22V36Z" />
          </svg>
          <span>Google Calendar</span>
        </a>
        <a href="#" target="_blank" id="outlook-calendar-link" class="calendar-option-btn">
          <svg class="calendar-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path fill="#0078D4"
              d="M21 21.5L21 2.5C21 2.22386 20.7761 2 20.5 2L3.5 2C3.22386 2 3 2.22386 3 2.5L3 21.5C3 21.7761 3.22386 22 3.5 22L20.5 22C20.7761 22 21 21.7761 21 21.5ZM19 20L5 20L5 4L19 4L19 20ZM12 11.5L12 18.5C12 18.7761 11.7761 19 11.5 19L9.5 19C9.22386 19 9 18.7761 9 18.5L9 11.5C9 11.2239 9.22386 11 9.5 11L11.5 11C11.7761 11 12 11.2239 12 11.5ZM15 11.5L15 18.5C15 18.7761 14.7761 19 14.5 19L12.5 19C12.2239 19 12 18.7761 12 18.5L12 11.5C12 11.2239 12.2239 11 12.5 11L14.5 11C14.7761 11 15 11.2239 15 11.5ZM17 11.5L17 18.5C17 18.7761 16.7761 19 16.5 19L14.5 19C14.2239 19 14 18.7761 14 18.5L14 11.5C14 11.2239 14.2239 11 14.5 11L16.5 11C16.7761 11 17 11.2239 17 11.5Z" />
          </svg>
          <span>Outlook Calendar</span>
        </a>
        <a href="#" id="apple-calendar-link" class="calendar-option-btn">
          <svg class="calendar-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <rect fill="#fff" x="64" y="96" width="384" height="384" rx="48" />
            <path fill="#D20D23" d="M64 96h384V64a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v32z" />
            <path fill="#2E2E2E"
              d="M368 80h-32a16 16 0 0 0 0 32h32a16 16 0 0 0 0-32zM176 80h-32a16 16 0 0 0 0 32h32a16 16 0 0 0 0-32z" />
            <text x="50%" y="60%" text-anchor="middle" font-family="Helvetica Neue, Arial, sans-serif" font-size="120"
              font-weight="bold" fill="#2E2E2E">
              25
            </text>
          </svg>
          <span>Apple Calendar</span>
        </a>
      </div>
    </div>
  </div>

  <div id="notification-container">
    <div id="notification" class="notification">
      <span id="notification-close" class="notification-close">&times;</span>
      <h4 id="notification-title"></h4>
      <p id="notification-message"></p>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>

  <script src="firebase-init.js"></script>
  <!-- Admin configuration - must be loaded before auth.js -->
  <script src="admin-config.js"></script>
  <script src="auth.js"></script>
  <script src="secure-access.js"></script>

  <script src="calendar.js"></script>
</body>

</html>