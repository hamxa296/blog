<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GIKI Chronicles - A Student Blog</title>
  <link rel="icon" type="image/x-icon" href="/favicons/favicon.ico?v=1.8">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png?v=1.8">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png?v=1.8">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png?v=1.8">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png?v=1.8">
  <link rel="icon" type="image/png" sizes="192x192" href="/favicons/favicon-192x192.png?v=1.8">
  <link rel="icon" type="image/png" sizes="512x512" href="/favicons/favicon-512x512.png?v=1.8">
  <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg?v=1.8" color="#0A1931">
  <meta name="msapplication-TileColor" content="#0A1931">
  <meta name="msapplication-TileImage" content="/favicons/mstile-150x150.png?v=1.8">
  <meta name="theme-color" content="#0A1931">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.8"> <!-- fallback at root -->
  <link rel="manifest" href="/site.webmanifest?v=1.8">
  <!-- Fallback to logo for larger favicon -->
  <link rel="icon" type="image/png" href="/logo.png?v=1.8">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?v=1.8"></script>
  <!-- Fallback to local Tailwind if CDN fails -->
  <script>
    // Check if Tailwind loaded successfully
    if (typeof window.tailwind === 'undefined') {
      console.warn('Tailwind CDN failed to load, using fallback styles');
      // Load a minimal CSS fallback
      const fallbackCSS = document.createElement('link');
      fallbackCSS.rel = 'stylesheet';
      fallbackCSS.href = 'tailwind-fallback.css?v=1.8';
      document.head.appendChild(fallbackCSS);
    }
  </script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;600;700&family=Rock+Salt&family=Special+Elite&family=Indie+Flower&display=swap&v=1.8"
    rel="stylesheet">

  <!-- Apply theme immediately to prevent flash -->
  <script>
    (function () {
      const savedTheme = localStorage.getItem('selected-theme') || 'basic-dark';

      // Apply to documentElement immediately (always exists)
      if (document.documentElement) {
        document.documentElement.classList.add(`theme-${savedTheme}`);
      }

      // Apply to body when it becomes available
      if (document.body) {
        document.body.classList.add(`theme-${savedTheme}`);
      } else {
        // Wait for body to be available
        document.addEventListener('DOMContentLoaded', function () {
          if (document.body) {
            document.body.classList.add(`theme-${savedTheme}`);
          }
        });
      }
    })();
  </script>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css?v=1.8">

  <!-- Homepage-specific styles -->
  <style>
    /* Homepage color palette matching contact.html */
    :root {
      --c-navy: #0A1931;
      --c-deep: #1A3D63;
      --c-steel: #4A7FA7;
      --c-light: #B3CFE5;
      --c-snow: #F6FAFD;
    }

    /* Full page background */
    body {
      background: url('background.jpeg?v=1.8') no-repeat center center fixed;
      background-size: cover;
    }

    /* Background overlay for the entire page */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(10, 25, 49, 0.3) 0%, rgba(26, 61, 99, 0.25) 50%, rgba(10, 25, 49, 0.3) 100%);
      z-index: -1;
    }

    /* Enhanced hero section with subtle animations */
    .hero-section {
      background-attachment: fixed;
    }

    /* Faded gradient overlays for depth */
    .gradient-overlay-1 {
      background: linear-gradient(135deg, rgba(10, 25, 49, 0.4), rgba(26, 61, 99, 0.3));
    }

    /* Line clamp utilities for text truncation */
    .line-clamp-1 {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .gradient-overlay-2 {
      background: linear-gradient(135deg, rgba(74, 127, 167, 0.2), transparent);
    }

    /* Enhanced section backgrounds with subtle patterns */
    .section-bg-1 {
      background: linear-gradient(135deg, var(--c-navy), var(--c-deep));
      position: relative;
    }

    .section-bg-1::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at 20% 80%, rgba(74, 127, 167, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(179, 207, 229, 0.05) 0%, transparent 50%);
      pointer-events: none;
    }

    .section-bg-2 {
      background: linear-gradient(135deg, var(--c-deep), var(--c-steel));
      position: relative;
    }

    .section-bg-2::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at 80% 80%, rgba(179, 207, 229, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 20% 20%, rgba(74, 127, 167, 0.05) 0%, transparent 50%);
      pointer-events: none;
    }

    /* Enhanced typography */
    .hero-title {
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .section-number {
      text-shadow: 0 2px 10px rgba(74, 127, 167, 0.2);
    }

    /* Smooth transitions */
    .hover-lift {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .hover-lift:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    /* Enhanced sidebar styling */
    .sidebar-item {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .sidebar-item:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.3);
      transform: scale(1.05);
    }

    .sidebar-item:active {
      transform: scale(0.95);
    }

    /* Shimmer skeletons */
    .skeleton {
      position: relative;
      overflow: hidden;
    }

    .skeleton::after {
      content: '';
      position: absolute;
      inset: 0;
      transform: translateX(-100%);
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      animation: shimmer 1.2s infinite;
    }

    @keyframes shimmer {
      100% {
        transform: translateX(100%);
      }
    }

    /* Modal transitions */
    .modal-backdrop {
      background-color: rgba(0, 0, 0, 0.8);
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }

    .modal-enter {
      opacity: 0;
      transform: scale(0.98);
    }

    .modal-enter-active {
      opacity: 1;
      transform: scale(1);
      transition: opacity 200ms ease, transform 200ms ease;
    }

    .modal-exit {
      opacity: 1;
      transform: scale(1);
    }

    .modal-exit-active {
      opacity: 0;
      transform: scale(0.98);
      transition: opacity 150ms ease, transform 150ms ease;
    }

    /* Dark mode modal text improvements - simplified and CSS-safe selectors */
    .theme-basic-dark [id$="-modal"] h1,
    .theme-basic-dark [id$="-modal"] h2,
    .theme-basic-dark [id$="-modal"] h3,
    .theme-basic-dark [id$="-modal"] h4,
    .theme-basic-dark [id$="-modal"] h5,
    .theme-basic-dark [id$="-modal"] h6,
    .theme-basic-dark [id$="-modal"] p,
    .theme-basic-dark [id$="-modal"] span,
    .theme-basic-dark [id$="-modal"] div {
      /* Apply an icy-blue text color to modal content in dark theme */
      color: #E3F2FD !important;
    }

    /* Preserve colors for buttons and links inside modals */
    .theme-basic-dark [id$="-modal"] button,
    .theme-basic-dark [id$="-modal"] a {
      color: inherit !important;
    }

    /* If an element needs to explicitly preserve its own color, add the attribute data-preserve-color to it */
    .theme-basic-dark [id$="-modal"] [data-preserve-color] {
      color: initial !important;
    }

    /* Make coming-soon cards opaque and readable on hero background */
    .coming-soon-container {
      background: rgba(10, 25, 49, 0.78);
      /* slightly darkened backdrop */
      border: 1px solid rgba(179, 207, 229, 0.14);
      color: #E3F2FD;
      padding: 28px;
      /* extra breathing room */
    }

    .coming-soon-card {
      /* Use the requested navy color as the primary stop (keeps gradient depth) */
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, rgb(10 25 49 / var(--tw-bg-opacity, 1)) 0%, rgba(12, 58, 92, 0.92) 48%, rgba(24, 108, 160, 0.96) 100%);
      color: #EAF6FF;
      /* light text for contrast */
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 10px 28px rgba(2, 10, 20, 0.32);
      transition: transform .28s cubic-bezier(.2, .9, .2, 1), box-shadow .28s ease, filter .2s ease;
      -webkit-backdrop-filter: blur(4px);
      backdrop-filter: blur(4px);
    }

    /* soft glossy highlight at the top of each card */
    .coming-soon-card::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      height: 42%;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.035), rgba(255, 255, 255, 0));
      pointer-events: none;
      z-index: 0;
    }

    /* Lift and deepen shadow on hover */
    .coming-soon-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 26px 54px rgba(2, 10, 20, 0.48);
      filter: brightness(1.03);
    }

    /* Title, description and inner content should sit above the gloss layer */
    .coming-soon-card .text-center {
      position: relative;
      z-index: 2;
    }

    .coming-soon-card h3 {
      color: #FFFFFF;
      /* bright title for contrast */
      font-weight: 700;
      text-shadow: 0 6px 16px rgba(2, 10, 20, 0.42);
    }

    .coming-soon-card p {
      color: rgba(234, 246, 255, 0.9);
      /* softer description */
      opacity: 0.95;
    }

    /* Icon circle styling inside the card */
    .coming-soon-card .w-16 {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02)), #4A7FA7;
      box-shadow: 0 10px 24px rgba(2, 10, 20, 0.28);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    /* Coming Soon badge styling */
    .coming-soon-card .inline-block {
      background: rgba(255, 249, 230, 0.95);
      color: #6b4b00;
      box-shadow: 0 6px 18px rgba(2, 10, 20, 0.18);
    }

    /* Small responsive tweak for cards on very wide hero backgrounds */
    @media (min-width: 1280px) {
      .coming-soon-container {
        background: rgba(10, 25, 49, 0.65);
      }
    }

    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .hero-title {
        font-size: 3rem;
      }

      .section-number {
        font-size: 4rem;
      }

      .handwriting-title {
        font-size: 3.5rem;
        transform: rotate(-1.5deg) skew(-0.8deg);
      }
    }

    @media (max-width: 768px) {
      .hero-title {
        font-size: 3rem;
      }

      .section-number {
        font-size: 3rem;
      }

      .handwriting-title {
        font-size: 3rem;
        transform: rotate(-1deg) skew(-0.5deg);
        letter-spacing: 1px;
      }
    }
  </style>
</head>

<body class="text-[#1A3D63]">

  <!-- Header -->
  <header class="bg-[#1A3D63] shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-6 py-4 flex items-center">
      <!-- Left side: Hamburger + Logo -->
      <div class="flex items-center space-x-4">
        <!-- Hamburger Menu Button -->
        <button id="sidebar-toggle" class="text-white hover:text-[#4A7FA7] focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>

        <a href="index.html?v=1.8" class="flex flex-col items-center">
          <img src="logo.png?v=1.8" alt="GIKI Chronicles Logo" class="h-16 w-auto">
          <span class="text-lg font-bold text-white mt-1">GIKI Chronicles</span>
        </a>
      </div>

      <!-- Right side: Navigation -->
      <div class="hidden md:flex items-center space-x-6 ml-auto">
        <!-- <a href="index.html" class="text-gray-600 hover:text-blue-600 transition duration-300">Home</a> -->
        <a href="about.html?v=1.8" class="text-white hover:text-[#4A7FA7] transition duration-300">About</a>
        <!-- <a href="contact.html" class="text-gray-600 hover:text-blue-600 transition duration-300">Contact</a> -->
        <a href="gallery.html?v=1.8"
          class="relative px-6 py-2.5 text-[#4A7FA7] font-semibold border-2 border-[#4A7FA7] rounded-full overflow-hidden hover:text-white transition-all duration-300 before:absolute before:top-0 before:left-0 before:w-0 before:h-full before:bg-[#4A7FA7] before:rounded-full before:transition-all before:duration-300 hover:before:w-full">
          <span class="relative z-10">Gallery</span>
        </a>

        <a href="guide.html?v=1.8"
          class="relative px-6 py-2.5 text-[#4A7FA7] font-semibold border-2 border-[#4A7FA7] rounded-full overflow-hidden hover:text-white transition-all duration-300 before:absolute before:top-0 before:left-0 before:w-0 before:h-full before:bg-[#4A7FA7] before:rounded-full before:transition-all before:duration-300 hover:before:w-full">
          <span class="relative z-10">Freshmen Guide</span>
        </a>

        <a href="calendar.html?v=1.8"
          class="relative px-6 py-2.5 text-[#4A7FA7] font-semibold border-2 border-[#4A7FA7] rounded-full overflow-hidden hover:text-white transition-all duration-300 before:absolute before:top-0 before:left-0 before:w-0 before:h-full before:bg-[#4A7FA7] before:rounded-full before:transition-all before:duration-300 hover:before:w-full">
          <span class="relative z-10">Calendar</span>
        </a>
        <!-- Test Post (Desktop) -->
        <a id="test-post-link" href="post.html"
          class="relative px-6 py-2.5 text-[#4A7FA7] font-semibold border-2 border-[#4A7FA7] rounded-full overflow-hidden hover:text-white transition-all duration-300 before:absolute before:top-0 before:left-0 before:w-0 before:h-full before:bg-[#4A7FA7] before:rounded-full before:transition-all before:duration-300 hover:before:w-full">
          <span class="relative z-10">Test Post</span>
        </a>
        <!-- GUEST NAVIGATION (DESKTOP) -->
        <div id="guest-nav" class="flex items-center space-x-6">
          <a href="login.html?v=1.8" class="text-white hover:text-[#4A7FA7] transition duration-300">Login</a>
          <!-- <a href="signup.html"
            class="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition duration-300">Sign Up</a> -->
        </div>

        <!-- USER NAVIGATION (DESKTOP) -->
        <div id="user-nav" class="hidden md:flex items-center space-x-6">
          <!-- <a href="profile.html" class="text-gray-600 hover:text-blue-600">My Profile</a> -->
          <!-- <a href="gallery.html" class="text-gray-600 hover:text-blue-600">Gallery</a> -->
          <!-- <a href="contact.html" class="text-gray-600 hover:text-blue-600">Contact</a> -->

          <!-- <button id="logout-button"
                        class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition duration-300">Logout</button> -->
        </div>
      </div>
    </nav>
  </header>

  <!-- Sidebar -->
  <div id="sidebar"
    class="fixed inset-y-0 left-0 z-50 w-64 bg-[#1A3D63] shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out flex flex-col">
    <div class="flex items-center justify-between p-6 border-b border-white/20">
      <h2 class="text-xl font-bold text-white">Menu</h2>
      <button id="sidebar-close" class="text-white hover:text-[#4A7FA7] focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <nav class="p-6 flex-1 overflow-y-auto">
      <div class="space-y-4">
        <!-- Main Navigation -->
        <div>
          <h3 class="text-sm font-semibold text-white/70 uppercase tracking-wider mb-3">Main</h3>
          <div class="space-y-2">
            <a href="index.html"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                </path>
              </svg>
              Home
            </a>
            <a href="post.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
                </path>
              </svg>
              All Posts
            </a>
            <a href="about.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              About
            </a>
            <a href="contact.html?v=1.5"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                </path>
              </svg>
              Contact
            </a>
            <a href="gallery.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                </path>
              </svg>
              Gallery
            </a>

          </div>
        </div>

        <!-- Resources -->
        <div>
          <h3 class="text-sm font-semibold text-white/70 uppercase tracking-wider mb-3">Resources</h3>
          <div class="space-y-2">
            <a href="guide.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253">
                </path>
              </svg>
              Freshman Guide
            </a>
            <!-- Calendar Dropdown for Mobile -->
            <div class="relative">
              <button id="sidebar-calendar-dropdown-toggle"
                class="w-full flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                Calendar
                <svg class="w-4 h-4 ml-auto transition-transform duration-200" id="sidebar-calendar-dropdown-arrow"
                  fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <!-- Mobile Calendar Dropdown Menu -->
              <div id="sidebar-calendar-dropdown" class="hidden pl-8 mt-2 space-y-1">
                <a href="calendar.html?v=1.8"
                  class="block px-3 py-2 text-sm text-white/80 hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200 flex items-center">
                  <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                  </svg>
                  Calendar View
                </a>
                <a href="calendar.html?v=1.8#events"
                  class="block px-3 py-2 text-sm text-white/80 hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200 flex items-center">
                  <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
                    </path>
                  </svg>
                  View Events
                </a>
                <a href="calendar.html?v=1.8#submit"
                  class="block px-3 py-2 text-sm text-white/80 hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200 flex items-center">
                  <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                  </svg>
                  Submit Event
                </a>
              </div>
            </div>
          </div>
        </div>



        <!-- User Section -->
        <div id="sidebar-guest-nav">
          <h3 class="text-sm font-semibold text-white/70 uppercase tracking-wider mb-3">Account</h3>
          <div class="space-y-2">
            <a href="login.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                </path>
              </svg>
              Login
            </a>
            <!-- <a href="signup.html" class="flex items-center px-3 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
              </svg>
              Sign Up
            </a> -->
          </div>
        </div>

        <div id="sidebar-user-nav" class="hidden">
          <h3 class="text-sm font-semibold text-white/70 uppercase tracking-wider mb-3">My Account</h3>
          <div class="space-y-2">
            <a href="launching-soon.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
              My Profile
            </a>
            <a href="launching-soon.html?v=1.8"
              class="flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">
                </path>
              </svg>
              Write Post
            </a>
            <button id="sidebar-admin-access-btn"
              class="hidden w-full flex items-center px-3 py-2 text-white hover:bg-white/20 hover:text-[#4A7FA7] rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z">
                </path>
              </svg>
              üîê Admin Portal
            </button>
            <button id="sidebar-logout-button"
              class="w-full flex items-center px-3 py-2 text-red-400 hover:bg-red-500/20 rounded-lg transition duration-200">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <!-- Sidebar Overlay -->
  <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <!-- Main Content -->
  <main class="relative">
    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden hero-section">
      <!-- Background Overlay -->
      <div class="absolute inset-0 z-0">
        <div class="absolute inset-0 bg-gradient-to-br from-black/40 via-[#0A1931]/30 to-[#1A3D63]/30"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-[#4A7FA7]/20"></div>
      </div>

      <!-- Left Sidebar - Follow Us -->
      <div class="absolute left-8 top-1/2 transform -translate-y-1/2 z-10 hidden lg:block">
        <div class="text-white text-center">
          <p class="text-sm font-medium mb-4 tracking-wider">Follow us</p>
          <div class="space-y-3">
            <a href="https://www.instagram.com/giki.chronicles?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
              class="block w-8 h-8 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all duration-300 sidebar-item">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
              </svg>
            </a>

          </div>
        </div>
      </div>
      <!-- Right Sidebar - Start -->
      <div class="absolute right-8 top-1/2 transform -translate-y-1/2 z-10 hidden lg:block">
        <div class="text-white text-center">
          <p class="text-sm font-medium mb-4 tracking-wider">Start</p>
          <div class="space-y-3">
            <button id="section-01-btn"
              class="w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-sm font-medium sidebar-item hover:bg-white/20 transition-all duration-300 cursor-pointer"
              title="Freshman Guide">01</button>
            <button id="section-02-btn"
              class="w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-sm font-medium sidebar-item hover:bg-white/20 transition-all duration-300 cursor-pointer"
              title="Campus Calendar">02</button>
            <button id="section-03-btn"
              class="w-8 h-8 bg-white/10 rounded-full flex items-center justify-center text-sm font-medium sidebar-item hover:bg-white/20 transition-all duration-300 cursor-pointer"
              title="Photo Gallery">03</button>
          </div>
        </div>
      </div>

      <!-- Main Hero Content -->
      <div class="relative z-10 text-center text-white px-6">
        <div class="mb-6">
          <div class="flex items-center justify-center space-x-4 mb-4">
            <div class="w-16 h-px bg-white/60"></div>
            <span class="text-sm font-medium tracking-widest">A STUDENT BLOG</span>
            <div class="w-16 h-px bg-white/60"></div>
          </div>
        </div>

        <h1 class="text-5xl md:text-7xl font-serif font-bold mb-8 leading-tight hero-title">
          Be Prepared For The<br>
          <span class="text-[#B3CFE5]">Valley & Beyond!</span>
        </h1>

        <p class="text-lg md:text-xl text-white/80 mb-8 max-w-2xl mx-auto">
          Your one-stop hub for student life, engineering marvels, and campus tales at GIKI Institute.
        </p>

        <div class="text-white/70 text-sm">
          <span class="block">scroll down ‚Üì</span>
        </div>
      </div>
    </section>

    <!-- Content Section 1: What level of student are you? -->
    <section id="section-01" class="bg-[#0A1931] py-24 relative section-bg-1">
      <div class="container mx-auto px-6">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <!-- Left: Text Content -->
          <div class="relative">
            <div class="flex items-center mb-6">
              <span class="text-8xl font-bold text-[#4A7FA7]/30 mr-6 section-number">01</span>
              <div class="flex-1">
                <div class="w-24 h-px bg-[#B3CFE5]/40 mb-2"></div>
                <span class="text-sm font-medium text-[#B3CFE5] tracking-wider">GET STARTED</span>
              </div>
            </div>

            <h2 class="text-4xl md:text-5xl font-serif font-bold text-white mb-6">
              Your Complete Freshman Survival Guide
            </h2>

            <p class="text-lg text-[#B3CFE5]/80 leading-relaxed mb-8">
              From packing essentials to navigating campus life, our comprehensive guide covers everything you need
              to know as a new GIKI student. Discover hostel information, mess schedules, weekend travel options,
              and essential contacts to make your transition smooth and exciting.
            </p>

            <a href="guide.html?v=1.8"
              class="inline-flex items-center text-[#B3CFE5] hover:text-white transition-colors duration-300 group">
              <span class="mr-2">Explore the guide</span>
              <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-300" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>

          <!-- Right: Image -->
          <div class="relative">
            <div class="rounded-2xl overflow-hidden shadow-2xl hover-lift">
              <img src="fman.jpg?v=1.8" alt="Freshman student guide" class="w-full h-[500px] object-cover">
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Content Section 2: Stay Updated with Campus Events -->
    <section id="section-02" class="bg-[#1A3D63] py-24 relative section-bg-2">
      <div class="container mx-auto px-6">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <!-- Left: Image -->
          <div class="relative">
            <div class="rounded-2xl overflow-hidden shadow-2xl hover-lift">
              <img src="calendar.jfif?v=1.8" alt="Campus calendar and events" class="w-full h-[500px] object-cover">
            </div>
          </div>

          <!-- Right: Text Content -->
          <div class="relative">
            <div class="flex items-center mb-6">
              <span class="text-8xl font-bold text-[#4A7FA7]/30 mr-6 section-number">02</span>
              <div class="flex-1">
                <div class="w-24 h-px bg-[#B3CFE5]/40 mb-2"></div>
                <span class="text-sm font-medium text-[#B3CFE5] tracking-wider">STAY CONNECTED</span>
              </div>
            </div>

            <h2 class="text-4xl md:text-5xl font-serif font-bold text-white mb-6">
              Stay Updated with Campus Events!
            </h2>

            <p class="text-lg text-[#B3CFE5]/80 leading-relaxed mb-8">
              Never miss important campus events, academic deadlines, or social gatherings. Our comprehensive
              calendar keeps you informed about everything happening at GIK Institute, from lectures and workshops
              to cultural festivals and sports competitions.
            </p>

            <a href="calendar.html?v=1.8"
              class="inline-flex items-center text-[#B3CFE5] hover:text-white transition-colors duration-300 group">
              <span class="mr-2">View Calendar</span>
              <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-300" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Content Section 3: Picking the right Campus Resources! -->
    <section id="section-03" class="bg-[#0A1931] py-24 relative section-bg-1">
      <div class="container mx-auto px-6">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <!-- Left: Text Content -->
          <div class="relative">
            <div class="flex items-center mb-6">
              <span class="text-8xl font-bold text-[#4A7FA7]/30 mr-6 section-number">03</span>
              <div class="flex-1">
                <div class="w-24 h-px bg-[#B3CFE5]/40 mb-2"></div>
                <span class="text-sm font-medium text-[#B3CFE5] tracking-wider">CAMPUS ESSENTIALS</span>
              </div>
            </div>
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-white mb-6">
              Explore Our Campus Through Photos!
            </h2>

            <p class="text-lg text-[#B3CFE5]/80 leading-relaxed mb-8">
              Discover the beauty and diversity of GIK Institute through our curated photo gallery. From academic
              blocks and hostel life to sports facilities and campus events, capture the essence of student life
              and share your own moments with the community.
            </p>

            <a href="gallery.html?v=1.8"
              class="inline-flex items-center text-[#B3CFE5] hover:text-white transition-colors duration-300 group">
              <span class="mr-2">Browse Gallery</span>
              <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-300" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>

          <!-- Right: Image -->
          <div class="relative">
            <div class="rounded-2xl overflow-hidden shadow-2xl hover-lift">
              <img src="camera.jpeg?v=1.8" alt="Camera and photography" class="w-full h-full object-cover">
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Feature Development in Progress (inserted from launching-soon.html) -->
    <section id="coming-soon" class="mb-12">
      <div class="coming-soon-container p-3 sm:p-6 lg:p-10 rounded-xl sm:rounded-2xl shadow-xl animate-fade-up">
        <div class="text-center mb-6 sm:mb-10">
          <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold font-lora text-[#B3CFE5] handwriting-title">Feature
            Development in Progress</h2>
          <p class="mt-3 sm:mt-4 text-base sm:text-lg text-[#B3CFE5] max-w-2xl mx-auto px-2">We're building new features
            for the GIKI community ‚Äî check back for updates.</p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 stagger" id="coming-grid-inserted">
          <!-- User Authentication -->
          <div class="p-4 sm:p-6 coming-soon-card rounded-xl">
            <div class="text-center">
              <div class="w-16 h-16 bg-[#4A7FA7] rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
              </div>
              <h3 class="text-lg sm:text-xl font-semibold font-lora text-[#1A3D63]">User Accounts</h3>
              <p class="mt-2 text-sm text-[#0A1931]/80">Login, signup, and user profiles</p>
              <div class="mt-3">
                <span class="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-semibold">üöß
                  Coming Soon</span>
              </div>
            </div>
          </div>

          <!-- Blog/Posts -->
          <div class="p-4 sm:p-6 coming-soon-card rounded-xl">
            <div class="text-center">
              <div class="w-16 h-16 bg-[#4A7FA7] rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
                  </path>
                </svg>
              </div>
              <h3 class="text-lg sm:text-xl font-semibold font-lora text-[#1A3D63]">Blog Posts</h3>
              <p class="mt-2 text-sm text-[#0A1931]/80">Read and share student stories</p>
              <div class="mt-3">
                <span class="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-semibold">üöß
                  Coming Soon</span>
              </div>
            </div>
          </div>

          <!-- Write Posts -->
          <div class="p-4 sm:p-6 coming-soon-card rounded-xl">
            <div class="text-center">
              <div class="w-16 h-16 bg-[#4A7FA7] rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">
                  </path>
                </svg>
              </div>
              <h3 class="text-lg sm:text-xl font-semibold font-lora text-[#1A3D63]">Write Posts</h3>
              <p class="mt-2 text-sm text-[#0A1931]/80">Create and publish your content</p>
              <div class="mt-3">
                <span class="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-semibold">üöß
                  Coming Soon</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Event Details Modal -->
  <div id="event-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-[#1A3D63] rounded-lg shadow-xl p-8 max-w-md w-full m-4">
      <h2 id="modal-title" class="text-2xl font-bold mb-4 text-white"></h2>
      <p id="modal-date" class="text-white/80 mb-4"></p>
      <p id="modal-description" class="text-white/90 mb-6"></p>
      <div class="flex justify-between items-center">
        <div class="flex space-x-2">
          <a id="google-calendar-link"
            href="https://www.instagram.com/giki.chronicles?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
            target="_blank" rel="noopener noreferrer"
            class="bg-[#4A7FA7] text-white px-4 py-2 rounded-full hover:bg-[#1A3D63] transition duration-300 text-sm">Add
            to Calendar</a>
          <button id="edit-event-button"
            class="bg-[#B3CFE5] text-[#0A1931] px-4 py-2 rounded-full hover:bg-[#4A7FA7] hover:text-white transition duration-300 text-sm">Edit</button>
          <button id="delete-event-button"
            class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition duration-300 text-sm">Delete</button>
        </div>
        <button id="modal-close" class="text-white hover:text-[#4A7FA7]">Close</button>
      </div>
    </div>
  </div>









  <!-- Security Utilities and CSP -->
  <script src="security-utils.js"></script>
  <script src="csp-headers.js"></script>

  <!-- Firebase SDKs (required before combined.min.js) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js?v=1.8"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js?v=1.8"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js?v=1.8"></script>

  <!-- Secure Firebase Configuration (must be loaded before combined.min.js) -->
  <script src="firebase-config-vercel.js"></script>

  <!-- Optimized combined JavaScript bundle (includes Firebase initialization) -->
  <script src="combined.min.js?v=1.8"></script>
  <!-- Unified Notifications -->
  <script src="notifications.js?v=1.8"></script>
  <script src="welcome-popup.js?v=1.8"></script>
  <script src="firebase-error-handler.js?v=1.8"></script>

  <!-- Smooth Scrolling Function for Section Navigation -->
  <script>
    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        section.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });

        // Update active button state
        updateActiveButton(sectionId);
      }
    }

    function updateActiveButton(sectionId) {
      // Remove active class from all buttons
      document.querySelectorAll('.sidebar-item').forEach(btn => {
        btn.classList.remove('bg-white/30', 'text-white');
        btn.classList.add('bg-white/10');
      });

      // Add active class to clicked button
      const activeButton = document.querySelector(`#section-${sectionId.replace('section-', '')}-btn`);
      if (activeButton) {
        activeButton.classList.remove('bg-white/10');
        activeButton.classList.add('bg-white/30', 'text-white');
      }
    }

    // Add event listeners for section navigation buttons
    document.addEventListener('DOMContentLoaded', function () {
      // Add click handlers for section buttons
      document.getElementById('section-01-btn').addEventListener('click', () => scrollToSection('section-01'));
      document.getElementById('section-02-btn').addEventListener('click', () => scrollToSection('section-02'));
      document.getElementById('section-03-btn').addEventListener('click', () => scrollToSection('section-03'));

      // Add scroll event listener to update active button based on current section
      window.addEventListener('scroll', function () {
        const sections = ['section-01', 'section-02', 'section-03'];
        const scrollPosition = window.scrollY + window.innerHeight / 2;

        for (let i = sections.length - 1; i >= 0; i--) {
          const section = document.getElementById(sections[i]);
          if (section && scrollPosition >= section.offsetTop) {
            updateActiveButton(sections[i]);
            break;
          }
        }
      });
    });
  </script>

  <!-- Blog Posts Loading Functionality -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Listen for theme changes and update modal text colors
      window.addEventListener('themeChanged', function (event) {
        if (window.updateModalTextColors) {
          window.updateModalTextColors(event.detail.theme);
        }
      });

      // Wait for Firebase to initialize
      await new Promise(resolve => setTimeout(resolve, 100));

      // Modal functionality
      const modals = [];

      // Helpers for transitions
      function showModal(modal) {
        if (!modal) return;
        modal.classList.remove('hidden');
        const panel = modal.querySelector('.rounded-3xl');
        if (panel) {
          panel.classList.add('modal-enter');
          requestAnimationFrame(() => {
            panel.classList.add('modal-enter-active');
            panel.classList.remove('modal-enter');
          });
        }
      }
      function hideModal(modal) {
        if (!modal) return;
        const panel = modal.querySelector('.rounded-3xl');
        if (panel) {
          panel.classList.add('modal-exit');
          requestAnimationFrame(() => {
            panel.classList.add('modal-exit-active');
            panel.classList.remove('modal-exit');
            setTimeout(() => {
              panel.classList.remove('modal-exit-active');
              modal.classList.add('hidden');
            }, 160);
          });
        } else {
          modal.classList.add('hidden');
        }
      }
      function hideAllModalsWithAnim() { modals.forEach(hideModal); }



      // Esc to close
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          const anyOpen = modals.find(m => !m.classList.contains('hidden'));
          if (anyOpen) hideAllModalsWithAnim();
        }
      });










      // Blog post functionality removed

      // Expose programmatic show/hide to global open functions
      window.__showModal = showModal;
      window.__hideModal = hideModal;

      // Update modal text colors when theme changes
      if (window.updateModalTextColors) {
        const currentTheme = localStorage.getItem('selected-theme') || 'basic-dark';
        window.updateModalTextColors(currentTheme);
      }

      // Also update modal text colors after posts are loaded
      setTimeout(() => {
        if (window.updateModalTextColors) {
          const currentTheme = localStorage.getItem('selected-theme') || 'basic-dark';
          window.updateModalTextColors(currentTheme);
        }
      }, 2000); // Wait for posts to load

      // Force update modal text colors every few seconds to catch any dynamic content
      setInterval(() => {
        if (window.updateModalTextColors) {
          const currentTheme = localStorage.getItem('selected-theme') || 'basic-dark';
          if (currentTheme === 'basic-dark') {
            window.updateModalTextColors(currentTheme);
          }
        }
      }, 3000);
    });

    // Ensure only one modal is open at a time
    function hideAllModals() {
      const allModals = document.querySelectorAll('div[id$="-modal"]');
      allModals.forEach(modalEl => {
        if (!modalEl.classList.contains('hidden')) {
          modalEl.classList.add('hidden');
        }
      });
    }
  </script>

  <!-- Test Post Link Handler -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var link = document.getElementById('test-post-link');
      if (!link) return;
      var saved = localStorage.getItem('TEST_POST_ID') || localStorage.getItem('test-post-id');
      if (saved) {
        link.href = 'post.html?id=' + encodeURIComponent(saved);
        link.title = 'Testing post: ' + saved;
      } else {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          var id = prompt('Enter Firestore Post Document ID to test:');
          if (id && id.trim()) {
            id = id.trim();
            try { localStorage.setItem('TEST_POST_ID', id); } catch (err) {}
            window.location.href = 'post.html?id=' + encodeURIComponent(id);
          }
        });
      }
    });
  </script>

  <!-- Service Worker Registration -->
  <script>
    // Single service worker registration with improved error handling
    if ('serviceWorker' in navigator) {
      // Wait for page to fully load before registering
      window.addEventListener('load', async () => {
        try {
          // Check if service worker is already registered
          const existingRegistration = await navigator.serviceWorker.getRegistration();

          if (existingRegistration) {
            console.log('Service Worker already registered:', existingRegistration.scope);
            return;
          }

          // Register new service worker
          const registration = await navigator.serviceWorker.register('/sw.js?v=1.8');
          console.log('Service Worker registered successfully:', registration.scope);

          // Handle service worker updates
          registration.addEventListener('updatefound', () => {
            const newWorker = registration.installing;
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                console.log('New service worker available');
              }
            });
          });

          // Handle service worker errors
          registration.addEventListener('error', (error) => {
            console.warn('Service Worker error:', error);
          });

        } catch (error) {
          console.warn('Service Worker registration failed:', error);
          // Don't show error to user, just log it
        }
      });

      // Handle service worker message errors
      navigator.serviceWorker.addEventListener('messageerror', (event) => {
        console.warn('Service Worker message error:', event);
      });

    } else {
      console.log('Service Worker not supported in this browser');
    }

    // Development helper: unregister service worker if needed
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      window.unregisterServiceWorker = async () => {
        try {
          const registration = await navigator.serviceWorker.getRegistration();
          if (registration) {
            await registration.unregister();
            console.log('Service Worker unregistered successfully');
            window.location.reload();
          }
        } catch (error) {
          console.error('Failed to unregister service worker:', error);
        }
      };
      console.log('Development mode: Use window.unregisterServiceWorker() to clear service worker');
    }
  </script>
  <script defer src="/_vercel/insights/script.js"></script>

</body>

</html>